(this.webpackJsonprate_watch=this.webpackJsonprate_watch||[]).push([[0],{33:function(t,n,e){"use strict";e.r(n);var r=e(1),c=e(0),o=e.n(c),a=e(19),i=e.n(a),u=e(2),s=e(4),l=e(23),f=e(7),b=e(3),h=e(17),p=e(5),v=e(6),d=e(11),j=e(14),m=e(13);function O(t,n,e){return function(r){return"rgba(".concat(t,", ").concat(n,", ").concat(e,", ").concat(r/100,")")}}var g=function(){function t(n,e){Object(p.a)(this,t),this.from=n,this.to=e}return Object(v.a)(t,[{key:"url",value:function(){return"".concat("https://min-api.cryptocompare.com/data/pricemultifull?fsyms=").concat(this.from,"&tsyms=").concat(this.to)}},{key:"extract",value:function(t,n){var e=!!t.Response,r=null,c=null;e?c=t.Message:r=t.RAW[this.from][this.to].PRICE,n.setState((function(t){return{rate:r,error:c}}))}}]),t}(),w=function(){function t(){Object(p.a)(this,t)}return Object(v.a)(t,[{key:"url",value:function(t,n){return"https://shapeshift.io/rate/".concat(t,"_").concat(n)}},{key:"extract",value:function(t,n){n.setState((function(n){return{rate:t.rate,error:t.error}}))}}]),t}();function x(){var t=Object(u.a)(["\n  background: ",";\n\n  &:hover {\n    background: ",";\n  }\n"]);return x=function(){return t},t}function k(){var t=Object(u.a)([""]);return k=function(){return t},t}var C=O(255,153,153),y={ss:Object(h.a)(.3,"#5A739C"),cc:Object(h.a)(.3,"#58CA71")};var E,S=(E=function(t){var n=t.from,e=t.to,c=t.rate,o=t.precision,a=void 0===o?2:o,i=t.error,u=t.editMode,s=t.handleClick,l=t.handleRemove,f=void 0===l?function(){return console.log("will remove!")}:l,b=t.api,h=(t.API,!!c),p=c&&parseFloat(c).toFixed(a),v=h?"1 ".concat(n," = ").concat(p," ").concat(e):"Loading rate..";return i&&(v="Error: ".concat(i)),Object(r.jsxs)("div",{className:"flex",children:[u&&Object(r.jsx)(N,{onClick:f,children:"x"}),Object(r.jsx)(R,{onClick:s,isError:!!i,color:y[b],children:v})]})},function(t){Object(j.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(p.a)(this,e);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=n.call.apply(n,[this].concat(c))).state={rate:null,error:null},t.fetchRate=function(){var n=t.props.API,e=t.props,r=e.from,c=e.to,o=new n(r,c);!t.state.rate||t.setState((function(t){return{rate:null,error:null}}));var a=o.url(r,c);fetch(a).then((function(n){return n.json().then((function(n){return o.extract(n,Object(d.a)(t))}))}))},t}return Object(v.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState((function(t){return{rate:null,error:null}})),this.fetchRate()}},{key:"componentDidMount",value:function(){this.fetchRate()}},{key:"render",value:function(){return Object(r.jsx)(E,Object(s.a)(Object(s.a)(Object(s.a)({},this.props),this.state),{},{handleClick:this.fetchRate}))}}]),e}(o.a.Component)),N=b.a.div.attrs({className:"bg-red code f4 f3-l black-60 pv2 pv3-m pv3-m pv3-l ph3 pointer bb-black-10 mr1 mb1"})(k()),R=b.a.div.attrs({className:"code f4 f3-l b black-60 pv2 pv3-m pv3-l ph3 pointer bb b--black-10 w-100 mb1"})(x(),(function(t){return t.isError?C(10):t.color}),(function(t){return t.isError?C(15):t.color})),D=e(9),T=e(24);function A(){var t=Object(u.a)(["\n  background: ",";\n"]);return A=function(){return t},t}function I(){var t=Object(u.a)(["\n  max-width: 500px;\n"]);return I=function(){return t},t}function U(){var t=Object(u.a)([""]);return U=function(){return t},t}function B(){var t=Object(u.a)([""]);return B=function(){return t},t}function P(){var t=Object(u.a)([""]);return P=function(){return t},t}var W=O(255,212,0);function M(t){var n=t.placeholder,e=Object(T.a)(t,["placeholder"]);return Object(r.jsx)(_,{children:Object(r.jsx)(F,Object(s.a)({placeholder:n},e))})}var _=b.a.div.attrs({className:"ba mb2 br2 b--black-10"})(P()),F=b.a.input.attrs({className:"w-100 br2 pa2 f3 code bn",type:"text"})(B()),G=b.a.input.attrs({className:"w-100 br3 pa2 f3 code bn bg-black-10 pointer",type:"button"})(U()),H=b.a.div.attrs({className:"flex flex-column w-100 ph3"})(I()),J=b.a.div.attrs({className:"flex pa4-ns pv4 w-100 justify-center"})(A(),W(9)),L=function(t){Object(j.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(p.a)(this,e);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=n.call.apply(n,[this].concat(c))).state={from:"",to:""},t.handleChange=function(n){return function(e){e.persist(),t.setState((function(t){return Object(D.a)({},n,e.target.value.toUpperCase())}))}},t.submit=function(){return t.props.handleSubmit(t.state.from,t.state.to)},t}return Object(v.a)(e,[{key:"render",value:function(){var t=this.state,n=t.from,e=t.to;return Object(r.jsx)(J,{children:Object(r.jsxs)(H,{children:[Object(r.jsx)(M,{value:n,placeholder:"From",onChange:this.handleChange("from")}),Object(r.jsx)(M,{value:e,placeholder:"To",onChange:this.handleChange("to")}),Object(r.jsx)(G,{value:"Add Pair",onClick:this.submit})]})})}}]),e}(o.a.Component);var Z=[{from:"BTC",to:"USD",api:"cc"},{from:"BTC",to:"INR",api:"cc"},{from:"ETH",to:"USD",api:"cc"},{from:"ETH",to:"INR",api:"cc"},{from:"ETC",to:"USD",api:"cc"},{from:"ZEC",to:"USD",api:"cc"},{from:"NMR",to:"USD",api:"cc"},{from:"USD",to:"ZCL",api:"cc"},{from:"USD",to:"DOGE",api:"cc",precision:4},{from:"DOGE",to:"USD",api:"cc",precision:4},{from:"DOGE",to:"INR",api:"cc",precision:4},{from:"ETC",to:"DOGE",api:"cc",precision:4},{from:"ETH",to:"ZEC",api:"cc"},{from:"BTC",to:"ETH",api:"cc"},{from:"BTC",to:"ETC",api:"cc"},{from:"BTC",to:"ZEC",api:"cc"}];function $(){var t=Object(u.a)([""]);return $=function(){return t},t}function q(){var t=Object(u.a)([""]);return q=function(){return t},t}function z(){var t=Object(u.a)(["\n  max-width: 960px;\n"]);return z=function(){return t},t}function K(){var t=Object(u.a)([""]);return K=function(){return t},t}function Q(){var t=Object(c.useState)(!0),n=Object(f.a)(t,2),e=n[0],o=n[1],a=function(t,n){var e=Object(c.useState)((function(){try{var e=window.localStorage.getItem(t);return e?JSON.parse(e):n}catch(r){return console.log(r),n}})),r=Object(f.a)(e,2),o=r[0],a=r[1];return[o,function(n){try{var e=n instanceof Function?n(o):n;a(e),window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.log(r)}}]}("pairs",Z),i=Object(f.a)(a,2),u=i[0],b=i[1],h=Object(c.useState)(!1),p=Object(f.a)(h,2),v=p[0],d=p[1];console.log("pairs",u);var j={ss:w,cc:g};return Object(r.jsx)(V,{children:Object(r.jsxs)(X,{children:[e&&u.map((function(t,n){return Object(r.jsx)(S,Object(s.a)(Object(s.a)({handleRemove:function(){return t=n,console.log("remove",t),void b(u.filter((function(n,e){return e!=t})));var t}},t),{},{API:j[t.api],editMode:v}),n)})),!e&&Object(r.jsx)(L,{handleSubmit:function(t,n){b([].concat(Object(l.a)(u),[{from:t,to:n,api:"cc"}])),o(!e)}}),Object(r.jsx)(tt,{children:Object(r.jsxs)("div",{className:"f",children:[e&&!v&&Object(r.jsx)(Y,{onClick:function(){return o(!e)},children:"Add"}),e&&!v&&Object(r.jsx)(Y,{onClick:function(){return d(!v)},children:"Remove"}),!e&&Object(r.jsx)(Y,{onClick:function(){return o(!0)},children:"Cancel"}),v&&Object(r.jsx)(Y,{onClick:function(){return d(!1)},children:"Cancel"})]})})]})})}var V=b.a.div.attrs({className:"flex justify-center"})(K()),X=b.a.div.attrs({className:"w-100 flex flex-column mt4-ns"})(z()),Y=b.a.a.attrs({className:"link b pointer mr2"})(q()),tt=b.a.div.attrs({className:"f6 code pa3 ph0-ns flex justify-between"})($()),nt=(e(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function et(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}console.log("v0.25"),i.a.render(Object(r.jsx)(Q,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/rate_watch",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/rate_watch","/service-worker.js");nt?function(t){fetch(t).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):et(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):et(t)}))}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.0b17eb54.chunk.js.map