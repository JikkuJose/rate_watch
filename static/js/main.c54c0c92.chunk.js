(this.webpackJsonprate_watch=this.webpackJsonprate_watch||[]).push([[0],{33:function(t,n,e){"use strict";e.r(n);var r=e(1),c=e(0),o=e.n(c),a=e(19),i=e.n(a),u=e(2),s=e(4),l=e(23),f=e(8),p=e(3),h=e(17),b=e(5),v=e(6),j=e(11),d=e(14),m=e(13);function O(t,n,e){return function(r){return"rgba(".concat(t,", ").concat(n,", ").concat(e,", ").concat(r/100,")")}}var g=function(){function t(n,e){Object(b.a)(this,t),this.from=n,this.to=e}return Object(v.a)(t,[{key:"url",value:function(){return"".concat("https://min-api.cryptocompare.com/data/pricemultifull?fsyms=").concat(this.from,"&tsyms=").concat(this.to)}},{key:"extract",value:function(t,n){var e=!!t.Response,r=null,c=null;e?c=t.Message:r=t.RAW[this.from][this.to].PRICE,n.setState((function(t){return{rate:r,error:c}}))}}]),t}(),w=function(){function t(){Object(b.a)(this,t)}return Object(v.a)(t,[{key:"url",value:function(t,n){return"https://shapeshift.io/rate/".concat(t,"_").concat(n)}},{key:"extract",value:function(t,n){n.setState((function(n){return{rate:t.rate,error:t.error}}))}}]),t}();function x(){var t=Object(u.a)(["\n  background: ",";\n\n  &:hover {\n    background: ",";\n  }\n"]);return x=function(){return t},t}var C=O(255,153,153),k={ss:Object(h.a)(.3,"#5A739C"),cc:Object(h.a)(.3,"#58CA71")};var y,E=(y=function(t){var n=t.from,e=t.to,c=t.rate,o=t.precision,a=void 0===o?2:o,i=t.error,u=t.handleClick,s=t.api,l=(t.API,!!c),f=c&&parseFloat(c).toFixed(a),p=l?"1 ".concat(n," = ").concat(f," ").concat(e):"Loading rate..";return i&&(p="Error: ".concat(i)),Object(r.jsx)(S,{onClick:u,isError:!!i,color:k[s],children:p})},function(t){Object(d.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(b.a)(this,e);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=n.call.apply(n,[this].concat(c))).state={rate:null,error:null},t.fetchRate=function(){var n=t.props.API,e=t.props,r=e.from,c=e.to,o=new n(r,c);!t.state.rate||t.setState((function(t){return{rate:null,error:null}}));var a=o.url(r,c);fetch(a).then((function(n){return n.json().then((function(n){return o.extract(n,Object(j.a)(t))}))}))},t}return Object(v.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState((function(t){return{rate:null,error:null}})),this.fetchRate()}},{key:"componentDidMount",value:function(){this.fetchRate()}},{key:"render",value:function(){return Object(r.jsx)(y,Object(s.a)(Object(s.a)(Object(s.a)({},this.props),this.state),{},{handleClick:this.fetchRate}))}}]),e}(o.a.Component)),S=p.a.div.attrs({className:"code f4 f3-l b black-60 pv2 pv3-m pv3-l ph3 pointer bb b--black-10"})(x(),(function(t){return t.isError?C(10):t.color}),(function(t){return t.isError?C(15):t.color})),N=e(9),D=e(24);function R(){var t=Object(u.a)(["\n  background: ",";\n"]);return R=function(){return t},t}function T(){var t=Object(u.a)(["\n  max-width: 500px;\n"]);return T=function(){return t},t}function A(){var t=Object(u.a)([""]);return A=function(){return t},t}function I(){var t=Object(u.a)([""]);return I=function(){return t},t}function U(){var t=Object(u.a)([""]);return U=function(){return t},t}var B=O(255,212,0);function P(t){var n=t.placeholder,e=Object(D.a)(t,["placeholder"]);return Object(r.jsx)(W,{children:Object(r.jsx)(_,Object(s.a)({placeholder:n},e))})}var W=p.a.div.attrs({className:"ba mb2 br2 b--black-10"})(U()),_=p.a.input.attrs({className:"w-100 br2 pa2 f3 code bn",type:"text"})(I()),F=p.a.input.attrs({className:"w-100 br3 pa2 f3 code bn bg-black-10 pointer",type:"button"})(A()),G=p.a.div.attrs({className:"flex flex-column w-100 ph3"})(T()),H=p.a.div.attrs({className:"flex pa4-ns pv4 w-100 justify-center"})(R(),B(9)),J=function(t){Object(d.a)(e,t);var n=Object(m.a)(e);function e(){var t;Object(b.a)(this,e);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=n.call.apply(n,[this].concat(c))).state={from:"",to:""},t.handleChange=function(n){return function(e){e.persist(),t.setState((function(t){return Object(N.a)({},n,e.target.value.toUpperCase())}))}},t.submit=function(){return t.props.handleSubmit(t.state.from,t.state.to)},t}return Object(v.a)(e,[{key:"render",value:function(){var t=this.state,n=t.from,e=t.to;return Object(r.jsx)(H,{children:Object(r.jsxs)(G,{children:[Object(r.jsx)(P,{value:n,placeholder:"From",onChange:this.handleChange("from")}),Object(r.jsx)(P,{value:e,placeholder:"To",onChange:this.handleChange("to")}),Object(r.jsx)(F,{value:"Add Pair",onClick:this.submit})]})})}}]),e}(o.a.Component);function L(t,n){var e=Object(c.useState)((function(){try{var e=window.localStorage.getItem(t);return e?JSON.parse(e):n}catch(r){return console.log(r),n}})),r=Object(f.a)(e,2),o=r[0],a=r[1];return[o,function(n){try{var e=n instanceof Function?n(o):n;a(e),window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.log(r)}}]}var M=[{from:"BTC",to:"USD",api:"cc"},{from:"BTC",to:"INR",api:"cc"},{from:"ETH",to:"USD",api:"cc"},{from:"ETH",to:"INR",api:"cc"},{from:"ETC",to:"USD",api:"cc"},{from:"ZEC",to:"USD",api:"cc"},{from:"NMR",to:"USD",api:"cc"},{from:"USD",to:"ZCL",api:"cc"},{from:"USD",to:"DOGE",api:"cc",precision:4},{from:"DOGE",to:"USD",api:"cc",precision:4},{from:"DOGE",to:"INR",api:"cc",precision:4},{from:"ETC",to:"DOGE",api:"cc",precision:4},{from:"ETH",to:"ZEC",api:"cc"},{from:"BTC",to:"ETH",api:"cc"},{from:"BTC",to:"ETC",api:"cc"},{from:"BTC",to:"ZEC",api:"cc"}];function Z(){var t=Object(u.a)([""]);return Z=function(){return t},t}function $(){var t=Object(u.a)([""]);return $=function(){return t},t}function q(){var t=Object(u.a)(["\n  max-width: 960px;\n"]);return q=function(){return t},t}function z(){var t=Object(u.a)([""]);return z=function(){return t},t}function K(){var t=L("viewMode",!0),n=Object(f.a)(t,2),e=n[0],c=n[1],o=L("pairs",M),a=Object(f.a)(o,2),i=a[0],u=a[1],p={ss:w,cc:g};return Object(r.jsx)(Q,{children:Object(r.jsxs)(V,{children:[e?i.map((function(t,n){return Object(r.jsx)(E,Object(s.a)(Object(s.a)({},t),{},{API:p[t.api]}),n)})):Object(r.jsx)(J,{handleSubmit:function(t,n){console.log("yo"),u([].concat(Object(l.a)(i),[{from:t,to:n,api:"cc"}])),c(!e)}}),Object(r.jsx)(Y,{children:Object(r.jsx)(X,{onClick:function(){return c(!e)},children:e?"Add":"Cancel"})})]})})}var Q=p.a.div.attrs({className:"flex justify-center"})(z()),V=p.a.div.attrs({className:"w-100 flex flex-column mt4-ns"})(q()),X=p.a.a.attrs({className:"link b pointer"})($()),Y=p.a.div.attrs({className:"f6 code pa3 ph0-ns flex justify-between"})(Z()),tt=(e(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function nt(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}console.log("v0.24"),i.a.render(Object(r.jsx)(K,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/rate_watch",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/rate_watch","/service-worker.js");tt?function(t){fetch(t).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):nt(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):nt(t)}))}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.c54c0c92.chunk.js.map