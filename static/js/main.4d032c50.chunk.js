(this.webpackJsonprate_watch=this.webpackJsonprate_watch||[]).push([[0],{29:function(t,n,e){"use strict";e.r(n);var r=e(1),a=e(0),c=e.n(a),o=e(16),i=e.n(o),u=e(2),s=e(6),l=e(4),f=e(5),h=e(8),b=e(7),p=e(3),d=e(14),v=e(10);function j(t,n,e){return function(r){return"rgba(".concat(t,", ").concat(n,", ").concat(e,", ").concat(r/100,")")}}var m=function(){function t(n,e){Object(l.a)(this,t),this.from=n,this.to=e}return Object(f.a)(t,[{key:"url",value:function(){return"".concat("https://min-api.cryptocompare.com/data/pricemultifull?fsyms=").concat(this.from,"&tsyms=").concat(this.to)}},{key:"extract",value:function(t,n){var e=!!t.Response,r=null,a=null;e?a=t.Message:r=t.RAW[this.from][this.to].PRICE,n.setState((function(t){return{rate:r,error:a}}))}}]),t}(),O=function(){function t(){Object(l.a)(this,t)}return Object(f.a)(t,[{key:"url",value:function(t,n){return"https://shapeshift.io/rate/".concat(t,"_").concat(n)}},{key:"extract",value:function(t,n){n.setState((function(n){return{rate:t.rate,error:t.error}}))}}]),t}();function w(){var t=Object(u.a)(["\n  background: ",";\n\n  &:hover {\n    background: ",";\n  }\n"]);return w=function(){return t},t}var g=j(255,153,153),x={ss:Object(d.a)(.3,"#5A739C"),cc:Object(d.a)(.3,"#58CA71")};var k,C=(k=function(t){var n=t.from,e=t.to,a=t.rate,c=t.error,o=t.handleClick,i=t.api,u=(t.API,!!a),s=a&&parseFloat(a).toFixed(2),l=u?"1 ".concat(n," = ").concat(s," ").concat(e):"Loading rate..";return c&&(l="Error: ".concat(c)),Object(r.jsx)(y,{onClick:o,isError:!!c,color:x[i],children:l})},function(t){Object(h.a)(e,t);var n=Object(b.a)(e);function e(){var t;Object(l.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).state={rate:null,error:null},t.fetchRate=function(){var n=t.props.API,e=t.props,r=e.from,a=e.to,c=new n(r,a);!t.state.rate||t.setState((function(t){return{rate:null,error:null}}));var o=c.url(r,a);fetch(o).then((function(n){return n.json().then((function(n){return c.extract(n,Object(v.a)(t))}))}))},t}return Object(f.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState((function(t){return{rate:null,error:null}})),this.fetchRate()}},{key:"componentDidMount",value:function(){this.fetchRate()}},{key:"render",value:function(){return Object(r.jsx)(k,Object(s.a)(Object(s.a)(Object(s.a)({},this.props),this.state),{},{handleClick:this.fetchRate}))}}]),e}(c.a.Component)),y=p.a.div.attrs({className:"code f4 f3-l b black-60 pv2 pv3-m pv3-l ph3 pointer bb b--black-10"})(w(),(function(t){return t.isError?g(10):t.color}),(function(t){return t.isError?g(15):t.color})),E=e(9),A=e(20);function N(){var t=Object(u.a)(["\n  background: ",";\n"]);return N=function(){return t},t}function S(){var t=Object(u.a)(["\n  max-width: 500px;\n"]);return S=function(){return t},t}function T(){var t=Object(u.a)([""]);return T=function(){return t},t}function M(){var t=Object(u.a)([""]);return M=function(){return t},t}function P(){var t=Object(u.a)([""]);return P=function(){return t},t}var R=j(255,212,0);function B(t){var n=t.placeholder,e=Object(A.a)(t,["placeholder"]);return Object(r.jsx)(I,{children:Object(r.jsx)(W,Object(s.a)({placeholder:n},e))})}var I=p.a.div.attrs({className:"ba mb2 br2 b--black-10"})(P()),W=p.a.input.attrs({className:"w-100 br2 pa2 f3 code bn",type:"text"})(M()),U=p.a.input.attrs({className:"w-100 br3 pa2 f3 code bn bg-black-10 pointer",type:"button"})(T()),_=p.a.div.attrs({className:"flex flex-column w-100 ph3"})(S()),D=p.a.div.attrs({className:"flex pa4-ns pv4 w-100 justify-center"})(N(),R(9)),F=function(t){Object(h.a)(e,t);var n=Object(b.a)(e);function e(){var t;Object(l.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).state={from:"",to:""},t.handleChange=function(n){return function(e){e.persist(),t.setState((function(t){return Object(E.a)({},n,e.target.value.toUpperCase())}))}},t.submit=function(){return t.props.handleSubmit(t.state.from,t.state.to)},t}return Object(f.a)(e,[{key:"render",value:function(){var t=this.state,n=t.from,e=t.to;return Object(r.jsx)(D,{children:Object(r.jsxs)(_,{children:[Object(r.jsx)(B,{value:n,placeholder:"From",onChange:this.handleChange("from")}),Object(r.jsx)(B,{value:e,placeholder:"To",onChange:this.handleChange("to")}),Object(r.jsx)(U,{value:"Add Pair",onClick:this.submit})]})})}}]),e}(c.a.Component),H=[{from:"BTC",to:"USD",api:"cc"},{from:"ETH",to:"USD",api:"cc"},{from:"ETC",to:"USD",api:"cc"},{from:"ETH",to:"ETC",api:"cc"},{from:"BTC",to:"ETH",api:"cc"},{from:"BTC",to:"ETC",api:"cc"},{from:"BTC",to:"ZEC",api:"cc"},{from:"BTC",to:"NMR",api:"cc"}];function L(){var t=Object(u.a)([""]);return L=function(){return t},t}function J(){var t=Object(u.a)([""]);return J=function(){return t},t}function Z(){var t=Object(u.a)(["\n  max-width: 960px;\n"]);return Z=function(){return t},t}function $(){var t=Object(u.a)([""]);return $=function(){return t},t}var q=function(t){Object(h.a)(e,t);var n=Object(b.a)(e);function e(){var t;Object(l.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).state={pairs:H,viewMode:!0,APIs:{ss:O,cc:m}},t.toggleMode=function(){return t.setState((function(t){return{viewMode:!t.viewMode}}))},t.addPair=function(n,e){t.setState((function(t){return{pairs:t.pairs.concat({from:n,to:e,api:"cc"}),viewMode:!0}}))},t}return Object(f.a)(e,[{key:"render",value:function(){var t=this.state,n=t.APIs,e=t.pairs,a=t.viewMode;return Object(r.jsx)(z,{children:Object(r.jsxs)(G,{children:[a?e.map((function(t,e){return Object(r.jsx)(C,Object(s.a)(Object(s.a)({},t),{},{API:n[t.api]}),e)})):Object(r.jsx)(F,{handleSubmit:this.addPair}),Object(r.jsx)(Q,{children:Object(r.jsx)(K,{onClick:this.toggleMode,children:a?"Add":"Cancel"})})]})})}}]),e}(c.a.Component),z=p.a.div.attrs({className:"flex justify-center"})($()),G=p.a.div.attrs({className:"w-100 flex flex-column mt4-ns"})(Z()),K=p.a.a.attrs({className:"link b pointer"})(J()),Q=p.a.div.attrs({className:"f6 code pa3 ph0-ns flex justify-between"})(L()),V=(e(28),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function X(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}i.a.render(Object(r.jsx)(q,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/rate_watch",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/rate_watch","/service-worker.js");V?function(t){fetch(t).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):X(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):X(t)}))}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.4d032c50.chunk.js.map